# 10パズルを解く

10パズルは4つの数と四則演算・括弧で10になる式を作る遊びです。

本プログラムは10パズルの解を全探索します。本プログラムには次の特徴があります。

- 2つ以上の任意個の数による10パズルを扱えます。
- 問題に使う数の範囲は、0から9までに限らず任意の整数の範囲が可能です。
- 数の順序、括弧の有無などを整理して同等とみなせる解の重複を取り除きます。
  - 排除できる重複の例:
    - (3+5)+7 と 3+(5+7)
	- 3-(5-7) と 3-5+7
	- 5\*1 と 5/1
	- 3+(5\*(9-7)) と 3-(5\*(7-9))
	- 4-7+3 と 7-4-3
	- 0\*3\*5 と 0\*3/5 と 0/3/5
	- (8-3)\*(3-1) と (1-3)\*(3-8)
    - (8-3)\*(1-3) と (3-8)\*(3-1)
  - 排除できない重複の例:
	- 1+2+3-5 と 1-2-3+5
- 冗長な括弧をつけずに解を表示します。

動作環境: Python 3.8 以上

## puzzle.py

引数に数字をいくつか与えると、それらの数字を使った10パズルを解き、解を出力します。

引数を与えない場合、内蔵するいくつかのパズルの解を出力します。

実行例: 
```
% python3 puzzle.py 1 1 2 3

Quiz: 1, 1, 2, 3
Solutions:
  (1+1)*(2+3)
  1+3*(1+2)
  2*(1+1+3)
```

## findall.py

0から9の数字の指定された個数の組のうち、10パズルの解があるものを全て出力します。

`--count` オプションを指定すると、解を持つ数の組の数を最後に出力します。

`--expr` オプションを指定すると、答が10になる式を全て出力します。同時に`--count`オプションも指定された場合、最後に解の個数の合計を出力します。

`--min`, `--max` オプションで、数の値の範囲を指定できます。

`--sum` オプションで、解とする式の値を変更できます。

実行例1: 4つの数の組のうち、10パズルの解を持つものは552組であることが確認できます。
```
% python3 findall.py --count 4
0,0,1,9
0,0,2,5
0,0,2,8
...
8,8,8,9
8,9,9,9
9,9,9,9

552
```

実行例2: それらの全ての解を表示します。
```
% python3 findall.py --expr 4
0,0,1,9: 1+9+0*0
0,0,1,9: 1+9-0*0
0,0,1,9: 0+0+1+9
...
8,8,8,9: (8+8*9)/8
8,9,9,9: 8+(9+9)/9
9,9,9,9: (9+9*9)/9
```

実行例3: -1から8までの数3つの組による10パズルの解を表示します。
```
% python3 findall.py --min -1 --max 8 --expr 3
-1,-1,8: 8-(-1)-(-1)
-1,1,5: 5*(1-(-1))
-1,1,8: 1+8-(-1)
...
5,6,8: 5*(8-6)
5,7,8: 7+8-5
6,8,8: 8+8-6
```
